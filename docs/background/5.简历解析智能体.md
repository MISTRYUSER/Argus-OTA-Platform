在Eino智能面试平台中，简历解析智能体是连接候选人简历与面试智能体的核心桥梁。它能够自动提取简历中的关键信息（如个人基本信息、工作经历、项目经验、技术栈等），并将结构化数据提供给面试官智能体，让面试提问更具针对性。本章节将从功能概述、实现流程到业务对接，一步步教你完成简历解析智能体的开发。

## 1. 功能概述

### 1.1 核心目标与应用场景

#### 1.1.1 核心目标

简历解析智能体的核心目标是**将非结构化的简历文本/文件（如PDF、Word、TXT）转换为结构化的机器可读数据**，并保证信息提取的准确性和完整性。具体目标包括：

1. 提取基础信息：姓名、年龄、联系方式、学历、毕业院校、工作年限等。
    
2. 提取职业信息：工作经历（公司名称、职位、工作时间、职责）、项目经验（项目名称、技术栈、成果）、技能证书、专业技能等。
    
3. 标准化数据格式：将提取的信息按照固定的结构体格式输出，便于后续业务逻辑调用。
    
4. 兼容多种简历格式：支持PDF、Word、纯文本等常见简历文件的解析。
    

#### 1.1.2 应用场景

5. **面试智能体数据支撑**：面试官智能体通过简历解析结果，结合候选人背景进行针对性提问（如“请介绍你在XX项目中使用Go语言实现的核心功能”）。
    
6. **简历初筛**：根据解析后的技能栈、工作年限等信息，自动筛选符合岗位要求的候选人。
    
7. **面试记录归档**：将简历解析结果与面试对话记录关联存储，形成完整的面试档案。
    
8. **个性化面试流程定制**：根据简历中的技术栈，自动匹配对应的专项技术面试官智能体（如Go专项、Java专项）。
    

### 1.2 依赖模块与工具

简历解析智能体的实现依赖以下核心模块和工具，我们会逐一说明每个依赖的作用及集成方式：

  

|   |   |   |
|---|---|---|
|依赖名称|类型|作用说明|
|Eino框架（adk）|智能体框架|提供智能体的基础封装（Agent、Runner、Message等核心组件）|
|OpenAI大模型（gpt-3.5/gpt-4）|语言模型|负责自然语言理解与信息提取，将非结构化简历文本转换为结构化数据|
|文件处理工具（unioffice、pdfcpu）|文件解析工具|读取PDF、Word等简历文件，提取其中的文本内容|
|文本清洗工具（内置utils）|辅助工具|去除简历文本中的冗余格式、特殊字符，优化模型输入质量|
|数据模型（model/resume.go）|数据结构|定义简历解析结果的结构化结构体，统一数据输出格式|
|工具封装（tool/resume_parser_tool.go）|自定义工具|封装文件解析、文本清洗逻辑，作为智能体可调用的工具|

  

**依赖安装说明（小白必看）**：

对于Go语言项目，我们通过`go mod`管理依赖，在`backend/go.mod`中添加以下依赖（复制后执行`go mod tidy`即可自动安装）：

暂时无法在飞书文档外展示此内容

  

## 2. 实现流程

### 2.1 智能体初始化配置

简历解析智能体的初始化遵循Eino框架的标准流程，分为**上下文创建、工具实例化、模型初始化、智能体配置、实例创建**五个步骤，每一步都有明确的代码实现和注释说明。

  

#### 步骤1：创建上下文（Context）

上下文是Go语言中传递环境信息（如超时控制、日志、请求ID）的核心载体，所有智能体操作都需要基于上下文执行。

暂时无法在飞书文档外展示此内容

  

#### 步骤2：实例化简历解析工具

将文件解析、文本清洗等逻辑封装为工具，绑定到智能体中（工具实现见2.2节）。

暂时无法在飞书文档外展示此内容

  

#### 步骤3：初始化大语言模型

调用项目中已封装的OpenAI模型初始化函数，获取模型实例（模型集成原理见上一章节）。

暂时无法在飞书文档外展示此内容

  

#### 步骤4：配置智能体核心参数

设置智能体的名称、描述、指令、最大迭代次数等核心参数，这些参数直接决定智能体的行为。

暂时无法在飞书文档外展示此内容

  

#### 步骤5：创建智能体实例并返回

调用Eino框架的`NewChatModelAgent`函数，创建智能体实例并处理错误。

暂时无法在飞书文档外展示此内容

  

参考提示词

暂时无法在飞书文档外展示此内容

  

**小白注意事项**：

9. 若出现“未定义adk.BaseTool”等错误，需检查Eino框架的导入路径和版本，确保与项目依赖一致。
    
10. 每一步的错误处理都要保留，便于调试时定位问题。
    

### 2.2 工具调用逻辑

简历解析智能体的工具主要负责**简历文件的文本提取**和**文本清洗**，工具调用遵循Eino框架的`BaseTool`接口规范。我们会先定义工具接口，再实现工具逻辑，最后说明工具的调用时机。

  

#### 2.2.1 实现Eino框架的BaseTool接口

所有被智能体调用的工具都必须实现`adk.BaseTool`接口（不同版本框架可能为`componenttool.BaseTool`），接口定义如下（小白可直接复制使用）：

暂时无法在飞书文档外展示此内容

  

#### 2.2.2 工具调用时机与流程

简历解析智能体的工具调用分为**自动调用**和**手动调用**两种方式，小白可先使用自动调用，后续根据需求扩展。

  

##### 方式1：自动调用（推荐）

智能体在初始化时绑定工具，当模型需要清洗后的简历文本时，会自动调用`ResumeParserTool`的`Execute`方法，流程如下：

11. 智能体接收到简历原始文本→调用`ResumeParserTool`→执行`Execute`方法→返回清洗后的文本。
    
12. 模型使用清洗后的文本进行信息提取→返回结构化JSON。
    

##### 方式2：手动调用（适合复杂场景）

在智能体执行前，手动调用工具并将结果传入模型，示例代码如下：

暂时无法在飞书文档外展示此内容

  

#### 2.2.3 扩展工具功能（进阶）

小白在掌握基础工具实现后，可扩展工具功能，例如：

13. **支持PDF/Word解析**：在工具中添加`ParsePDF`、`ParseWord`方法，接收文件路径，直接读取并提取文本。
    
14. **多语言简历处理**：添加语言检测功能，对英文简历使用对应的解析规则。
    
15. **简历信息补全**：对缺失的信息（如工作年限）进行智能推断。
    

## 测试通用方法

暂时无法在飞书文档外展示此内容

## 3. 业务对接

简历解析智能体并非孤立存在，需要与项目的服务层、数据层、前端进行对接，形成完整的业务链路。本章节将详细说明对接逻辑、数据流转和结果存储。

  

### 3.1 与服务层对接逻辑

项目的服务层（`internal/service/`）是业务逻辑的核心入口，前端请求通过API接口进入服务层，再由服务层调用简历解析智能体。我们会先定义服务接口，再实现接口逻辑。

  

#### 3.1.1 定义简历服务接口

在`internal/service/resume/interface.go`中定义接口，规范简历解析的业务逻辑：

暂时无法在飞书文档外展示此内容

  

#### 3.1.2 实现服务接口（调用智能体）

在`internal/service/resume/service.go`中实现接口，调用简历解析智能体并处理结果：

暂时无法在飞书文档外展示此内容

  

#### 3.1.3 API接口层对接（前端调用入口）

在`internal/handler/resume_handler.go`中实现HTTP接口，接收前端上传的文件并调用服务层：

暂时无法在飞书文档外展示此内容

  

### 3.2 数据流转链路

简历解析智能体的完整数据流转链路如下（小白可按链路梳理代码，避免逻辑混乱）：

暂时无法在飞书文档外展示此内容

  

**链路各环节说明**：

16. **前端上传**：使用`<input type="file">`标签上传文件，通过Axios发送POST请求。
    
17. **接口层**：接收文件和用户ID，进行参数校验，调用服务层。
    
18. **服务层**：处理核心业务逻辑，协调工具、智能体、数据层。
    
19. **智能体层**：完成简历文本的清洗和结构化提取。
    
20. **数据层**：将简历信息存储到数据库，便于后续查询和使用。
    
21. **反馈层**：将解析结果返回给前端，或传递给面试官智能体。
    

### 3.3 结果存储与反馈

#### 3.3.1 数据库表设计（简历解析结果表）

在`backend/db_schema.sql`中创建简历表，结构如下（小白可直接执行SQL语句创建表）：

暂时无法在飞书文档外展示此内容

  

#### 3.3.2 数据存储逻辑（数据访问层）

在`internal/repository/resume_repo.go`中实现简历信息的存储逻辑：

暂时无法在飞书文档外展示此内容

  

然后在服务层的`ParseResume`方法中添加存储逻辑：

暂时无法在飞书文档外展示此内容

  

#### 3.3.3 结果反馈方式

22. **同步反馈给前端**：如接口层直接返回解析结果，前端展示在页面上（适合实时解析场景）。
    
23. **异步反馈（可选）**：对于大文件或复杂简历，可使用消息队列（如RabbitMQ）异步解析，解析完成后通过WebSocket通知前端。
    
24. **传递给面试官智能体**：在创建面试官智能体时，调用`GetResumeByUserId`获取简历信息，传入智能体的指令中，示例如下：
    

暂时无法在飞书文档外展示此内容

## 总结

简历解析智能体的开发核心在于**工具封装、指令设计、业务对接**三个环节：

1. 工具封装：将文件解析、文本清洗等通用逻辑封装为可复用的工具，遵循Eino框架的接口规范。
    
2. 指令设计：通过清晰的指令约束模型的行为，确保输出结构化的JSON数据，与项目的简历结构体一致。
    
3. 业务对接：将智能体与服务层、接口层、数据层整合，形成完整的业务链路，实现简历解析的端到端功能。
    

在开发过程中，可按照本教程的步骤逐步实现，先完成基础功能（纯文本简历解析），再扩展支持PDF/Word格式，最后优化数据存储和反馈逻辑。