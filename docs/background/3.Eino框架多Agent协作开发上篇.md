## å‰è¨€

è¿™ä»½æ–‡æ¡£æ˜¯Einoå¤šAgentå¼€å‘ç³»åˆ—çš„ç¬¬ä¸‰ç¯‡ï¼Œä¸“ä¸ºGolangå°ç™½æ‰“é€ ï¼Œèšç„¦ã€Œå¤šAgentåä½œçš„æ ¸å¿ƒåŸç†ä¸åŸºç¡€æ¨¡å¼ã€ã€‚ç»“åˆEino ADKå®˜æ–¹æ–‡æ¡£å’Œä¹‹å‰çš„é¢è¯•æ¨¡æ‹Ÿé¡¹ç›®ä»£ç ï¼Œä»ã€Œæ¦‚å¿µæ‹†è§£â†’ç¤ºä¾‹å®æˆ˜â†’é¡¹ç›®å¯¹æ¥ã€é€æ­¥æ¨è¿›ï¼Œè®©ä½ æ—¢èƒ½ç†è§£å¤šAgentåä½œçš„åº•å±‚é€»è¾‘ï¼Œåˆèƒ½çœ‹æ‡‚é¡¹ç›®ä¸­å¤šAgentçš„å®ç°æ–¹å¼ã€‚

  

æ–‡æ¡£æ ¸å¿ƒç›®æ ‡ï¼ˆä¸Šç¯‡ï¼‰ï¼š

- ææ‡‚å¤šAgentåä½œçš„3å¤§æ ¸å¿ƒåŸè¯­ï¼ˆåä½œæ–¹å¼ã€ä¸Šä¸‹æ–‡ç­–ç•¥ã€å†³ç­–è‡ªä¸»æ€§ï¼‰
    
- æŒæ¡5ç§åŸºç¡€ç»„åˆåŸè¯­ï¼ˆSequential/Parallel/Loop/SubAgents/AgentAsToolï¼‰çš„å®ç°
    
- ç†è§£å¤šAgenté—´çš„ä¸Šä¸‹æ–‡ä¼ é€’æœºåˆ¶ï¼ˆHistory+SessionValuesï¼‰
    
- æ‹†è§£é¡¹ç›®ä¸­å¤šAgentåä½œçš„ä»£ç é€»è¾‘ï¼ˆé¢è¯•æµç¨‹çš„Sequential+Loopç»„åˆï¼‰
    
- ä»é›¶å†™å‡ºå¯è¿è¡Œçš„å¤šAgentåä½œç³»ç»Ÿï¼ˆå¤åˆ¶ä»£ç å°±èƒ½æµ‹è¯•ï¼‰
    

æ–‡æ¡£è¦†ç›–èŒƒå›´ï¼ˆä¸Šç¯‡ï¼‰ï¼šåŸºç¡€åä½œæ¨¡å¼ï¼ˆé€‚åˆçº¿æ€§ã€å¹¶è¡Œã€å¾ªç¯ç­‰ç®€å•åä½œåœºæ™¯ï¼‰ï¼Œä¸‹ç¯‡å°†èšç„¦å¤æ‚åä½œæ¨¡å¼ï¼ˆSupervisor/Plan-Executeï¼‰ã€‚

## 1. æ ¸å¿ƒæ¦‚å¿µé€šä¿—è®²ï¼ˆå…ˆææ‡‚åä½œçš„åº•å±‚é€»è¾‘ï¼‰

å¤šAgentåä½œæœ¬è´¨æ˜¯ã€Œå¤šä¸ªæ™ºèƒ½æ¨¡å—åˆ†å·¥é…åˆå®Œæˆå¤æ‚ä»»åŠ¡ã€ï¼Œæ¯”å¦‚çš„é¢è¯•æ¨¡æ‹Ÿé¡¹ç›®ï¼šç®€å†åˆ†æAgentâ†’é—®é¢˜ç”ŸæˆAgentâ†’å›ç­”è¯„ä¼°Agentâ†’æŠ¥å‘Šç”ŸæˆAgentï¼ŒæŒ‰æµç¨‹åä½œå®Œæˆé¢è¯•å…¨æµç¨‹ã€‚

  

åœ¨Einoä¸­ï¼Œå¤šAgentåä½œæœ‰ä¸€å¥—å›ºå®šçš„ã€Œè§„åˆ™ä½“ç³»ã€ï¼Œå…ˆææ‡‚è¿™å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œåé¢çœ‹ä»£ç ä¸æ‡µï¼š

  

### 1.1 åä½œåŸè¯­ï¼šå¤šAgentåä½œçš„ã€ŒåŸºæœ¬è§„åˆ™ã€

Einoå®šä¹‰äº†3ç±»æ ¸å¿ƒåŸè¯­ï¼Œæ‰€æœ‰å¤šAgentåä½œéƒ½æ˜¯åŸºäºè¿™äº›è§„åˆ™ç»„åˆè€Œæˆï¼š

- **åä½œæ–¹å¼**ï¼šAgentä¹‹é—´å¦‚ä½•â€œä¼ é€’ä»»åŠ¡â€ï¼ˆæ¯”å¦‚A Agentåšå®Œäº¤ç»™B Agentï¼‰
    
- **ä¸Šä¸‹æ–‡ç­–ç•¥**ï¼šä»»åŠ¡ä¼ é€’æ—¶ï¼Œå¦‚ä½•å…±äº«å†å²ä¿¡æ¯ï¼ˆæ¯”å¦‚Açš„æ‰§è¡Œç»“æœè¦ä¸è¦å‘Šè¯‰Bï¼‰
    
- **å†³ç­–è‡ªä¸»æ€§**ï¼šè°æ¥å†³å®šä¸‹ä¸€ä¸ªæ‰§è¡Œçš„Agentï¼ˆæ˜¯æå‰å®šå¥½ï¼Œè¿˜æ˜¯Agenté€‰ï¼‰
    

### 1.2 ç»„åˆåŸè¯­ï¼šå¤šAgentåä½œçš„ã€Œç°æˆæ¨¡æ¿ã€

Einoæä¾›äº†ç°æˆçš„åä½œæ¨¡æ¿ï¼ˆç»„åˆåŸè¯­ï¼‰ï¼Œä¸ç”¨å†™å¤æ‚é€»è¾‘ï¼Œç›´æ¥å¥—ç”¨ï¼š

- **Sequential**ï¼šæŒ‰é¡ºåºæ‰§è¡ŒAgentï¼ˆAâ†’Bâ†’Cï¼Œçº¿æ€§æµç¨‹ï¼‰
    
- **Parallel**ï¼šå¹¶å‘æ‰§è¡Œå¤šä¸ªAgentï¼ˆAå’ŒBåŒæ—¶æ‰§è¡Œï¼Œé€‚åˆæ— ä¾èµ–ä»»åŠ¡ï¼‰
    
- **Loop**ï¼šå¾ªç¯æ‰§è¡ŒAgentï¼ˆAâ†’Bâ†’Aâ†’Bâ€¦ï¼Œé€‚åˆé‡å¤ä»»åŠ¡ï¼‰
    
- **SubAgents**ï¼šçˆ¶Agentç®¡ç†å¤šä¸ªå­Agentï¼Œå­Agentè‡ªä¸»å†³ç­–è·³è½¬ï¼ˆé€‚åˆçµæ´»åˆ†å·¥ï¼‰
    
- **AgentAsTool**ï¼šæŠŠä¸€ä¸ªAgentå½“æˆå·¥å…·ï¼Œè¢«å…¶ä»–Agentè°ƒç”¨ï¼ˆæ¯”å¦‚è®©ç®€å†åˆ†æAgentå½“å·¥å…·ï¼‰
    

### 1.3 ä¸Šä¸‹æ–‡ä¼ é€’ï¼šå¤šAgentçš„ã€Œä¿¡æ¯å…±äº«å·¥å…·ã€

å¤šAgentåä½œéœ€è¦å…±äº«ä¿¡æ¯ï¼ˆæ¯”å¦‚ç®€å†åˆ†æç»“æœè¦ä¼ ç»™é—®é¢˜ç”ŸæˆAgentï¼‰ï¼ŒEinoæä¾›ä¸¤ç§æ ¸å¿ƒæ–¹å¼ï¼š

- **History**ï¼šè‡ªåŠ¨ä¿å­˜æ‰€æœ‰Agentçš„æ‰§è¡Œè®°å½•ï¼Œä¸‹ä¸€ä¸ªAgentèƒ½æ‹¿åˆ°å®Œæ•´å†å²
    
- **SessionValues**ï¼šå…¨å±€ä¸´æ—¶KVå­˜å‚¨ï¼Œæ‰‹åŠ¨å­˜å‚¨å’Œè¯»å–è·¨Agentçš„å…±äº«æ•°æ®ï¼ˆæ¯”å¦‚å­˜å‚¨ç®€å†æ–‡æœ¬ï¼‰
    

### 1.4 å…³é”®åŒºåˆ«ï¼šå•Agent vs å¤šAgent

|   |   |   |
|---|---|---|
|ç»´åº¦|å•Agent|å¤šAgent|
|æ ¸å¿ƒç›®æ ‡|å®Œæˆå•ä¸€å…·ä½“ä»»åŠ¡ï¼ˆå¦‚è§£æç®€å†ï¼‰|å®Œæˆå¤æ‚ä»»åŠ¡ï¼ˆå¦‚é¢è¯•å…¨æµç¨‹ï¼‰|
|æ‰§è¡Œé€»è¾‘|è‡ªèº«å¾ªç¯ï¼ˆæ€è€ƒâ†’è°ƒç”¨å·¥å…·â†’è¾“å‡ºï¼‰|å¤šAgentåä½œï¼ˆä¼ é€’ä»»åŠ¡â†’å…±äº«ä¿¡æ¯ï¼‰|
|ä¾èµ–æ ¸å¿ƒ|LLM+å·¥å…·|ç»„åˆåŸè¯­+ä¸Šä¸‹æ–‡ä¼ é€’|
|é¡¹ç›®ä¸­çš„ä¾‹å­|ç®€å†åˆ†æAgentã€é—®é¢˜ç”ŸæˆAgent|é¢è¯•æµç¨‹ï¼ˆç®€å†åˆ†æâ†’é—®é¢˜ç”Ÿæˆâ†’è¯„ä¼°ï¼‰|

  

---

  

## 2. 3å¤§åä½œåŸè¯­ï¼šå¤šAgentåä½œçš„ã€Œè§„åˆ™æ‰‹å†Œã€

åä½œåŸè¯­æ˜¯å¤šAgentåä½œçš„åŸºç¡€ï¼Œæ‰€æœ‰ç»„åˆåŸè¯­éƒ½æ˜¯åŸºäºè¿™äº›è§„åˆ™å®ç°çš„ï¼Œå¿…é¡»å…ˆæŒæ¡ï¼š

  

### 2.1 åä½œæ–¹å¼ï¼šAgentä¹‹é—´å¦‚ä½•ä¼ é€’ä»»åŠ¡ï¼Ÿ

Einoæ”¯æŒä¸¤ç§æ ¸å¿ƒåä½œæ–¹å¼ï¼Œç”¨å¤§ç™½è¯å’Œä¾‹å­è¯´æ˜ï¼š

  

#### ï¼ˆ1ï¼‰Transferï¼šä»»åŠ¡â€œç§»äº¤â€ï¼ˆä¸ç®¡åç»­ï¼‰

- **æ¦‚å¿µ**ï¼šA AgentæŠŠä»»åŠ¡äº¤ç»™B Agentåï¼ŒAå°±é€€å‡ºäº†ï¼Œä¸å†å…³å¿ƒBçš„æ‰§è¡Œç»“æœï¼ˆç±»ä¼¼â€œç”©é”…â€ï¼Œä½†æœ‰é€»è¾‘çš„ç”©é”…ï¼‰
    
- **é€‚ç”¨åœºæ™¯**ï¼šä»»åŠ¡åˆ†å·¥æ˜ç¡®ï¼Œåç»­æµç¨‹ä¸éœ€è¦åŸAgentå‚ä¸ï¼ˆæ¯”å¦‚RouterAgentæŠŠé¢è¯•ä»»åŠ¡äº¤ç»™ç®€å†åˆ†æAgentï¼‰
    
- **ç¤ºä¾‹ä»£ç **ï¼ˆåˆ›å»ºTransferåŠ¨ä½œï¼‰ï¼š
    

```Go
import "github.com/cloudwego/eino/adk"

// åˆ›å»ºä¸€ä¸ªâ€œç§»äº¤ä»»åŠ¡â€çš„åŠ¨ä½œï¼ŒæŠŠä»»åŠ¡äº¤ç»™åä¸ºâ€œResumAnalysisAgentâ€çš„Agent
transferAction := adk.NewTransferToAgentAction("ResumAnalysisAgent")

// Agentè¿è¡Œæ—¶ï¼Œé€šè¿‡å‘é€è¿™ä¸ªåŠ¨ä½œï¼Œè§¦å‘ä»»åŠ¡ç§»äº¤
event := &adk.AgentEvent{
    AgentName: "RouterAgent",
    Action:    transferAction,
}
```

  

#### ï¼ˆ2ï¼‰ToolCallï¼ˆAgentAsToolï¼‰ï¼šä»»åŠ¡â€œå§”æ‰˜â€ï¼ˆç­‰ç»“æœè¿”å›ï¼‰

- **æ¦‚å¿µ**ï¼šA AgentæŠŠB Agentå½“æˆå·¥å…·è°ƒç”¨ï¼ŒBæ‰§è¡Œå®Œåï¼Œç»“æœè¿”å›ç»™Aï¼ŒAç»§ç»­å¤„ç†ï¼ˆç±»ä¼¼â€œè¯·äººå¸®å¿™ï¼Œç­‰ç»“æœå†å¹²æ´»â€ï¼‰
    
- **é€‚ç”¨åœºæ™¯**ï¼šB Agentçš„è¾“å‡ºæ˜¯A Agentçš„è¾“å…¥ï¼ˆæ¯”å¦‚è®©ç®€å†åˆ†æAgentå½“å·¥å…·ï¼ŒæŠŠåˆ†æç»“æœè¿”å›ç»™ä¸»Agentï¼‰
    
- **ç¤ºä¾‹ä»£ç **ï¼ˆæŠŠAgentè½¬ä¸ºå·¥å…·ï¼‰ï¼š
    

```Go
import "github.com/cloudwego/eino/adk"

// 1. åˆ›å»ºä¸€ä¸ªå­Agentï¼ˆæ¯”å¦‚ç®€å†åˆ†æAgentï¼‰
resumeAgent := NewResumAnalysisAgent()

// 2. æŠŠAgentè½¬ä¸ºå·¥å…·ï¼ˆAgentAsToolï¼‰
agentTool, err := adk.NewAgentTool(ctx, resumeAgent)
if err != nil {
    log.Fatal(err)
}

// 3. ä¸»Agenté…ç½®è¿™ä¸ªå·¥å…·ï¼Œåç»­å¯è°ƒç”¨
toolsConfig := adk.ToolsConfig{
    ToolsNodeConfig: compose.ToolsNodeConfig{
        Tools: []tool.BaseTool{agentTool},
    },
}
```

  

#### ä¸¤ç§åä½œæ–¹å¼çš„æ ¸å¿ƒåŒºåˆ«

|   |   |   |   |
|---|---|---|---|
|åä½œæ–¹å¼|æ ¸å¿ƒé€»è¾‘|ç»“æœå¤„ç†|é¡¹ç›®ä¸­çš„ä¾‹å­|
|Transfer|Aç§»äº¤ä»»åŠ¡ç»™Bï¼ŒAé€€å‡º|Bçš„ç»“æœç›´æ¥è¾“å‡ºï¼ŒAä¸å‚ä¸|RouterAgentâ†’ResumAnalysisAgent|
|ToolCall|Aè°ƒç”¨Bå½“å·¥å…·ï¼ŒAç­‰å¾…|Bçš„ç»“æœè¿”å›ç»™Aï¼ŒAç»§ç»­å¤„ç†|ä¸»Agentè°ƒç”¨ç®€å†åˆ†æAgentå½“å·¥å…·|

  

### 2.2 ä¸Šä¸‹æ–‡ç­–ç•¥ï¼šä»»åŠ¡ä¼ é€’æ—¶å¦‚ä½•å…±äº«ä¿¡æ¯ï¼Ÿ

ä¸Šä¸‹æ–‡ç­–ç•¥å†³å®šäº†â€œä¸‹ä¸€ä¸ªAgentèƒ½æ‹¿åˆ°å¤šå°‘å†å²ä¿¡æ¯â€ï¼ŒEinoæ”¯æŒä¸¤ç§ï¼š

  

#### ï¼ˆ1ï¼‰ä¸Šæ¸¸Agentå…¨å¯¹è¯ï¼ˆé»˜è®¤ï¼‰

- **æ¦‚å¿µ**ï¼šä¸‹ä¸€ä¸ªAgentèƒ½æ‹¿åˆ°æ‰€æœ‰ä¸Šæ¸¸Agentçš„æ‰§è¡Œè®°å½•ï¼ˆæ¯”å¦‚Bèƒ½æ‹¿åˆ°Açš„è¾“å…¥ã€è¾“å‡ºã€å·¥å…·è°ƒç”¨ç»“æœï¼‰
    
- **é€‚ç”¨åœºæ™¯**ï¼šåç»­Agentéœ€è¦åŸºäºå‰é¢çš„ç»“æœå·¥ä½œï¼ˆæ¯”å¦‚é—®é¢˜ç”ŸæˆAgentéœ€è¦ç®€å†åˆ†æç»“æœï¼‰
    
- **åº•å±‚é€»è¾‘**ï¼šä¸Šæ¸¸Agentçš„Assistantæ¶ˆæ¯ã€Toolæ¶ˆæ¯ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºä¸‹æ¸¸Agentçš„Useræ¶ˆæ¯ï¼Œé¿å…LLMä¸Šä¸‹æ–‡æ··ä¹±
    

#### ï¼ˆ2ï¼‰å…¨æ–°ä»»åŠ¡æè¿°

- **æ¦‚å¿µ**ï¼šå¿½ç•¥ä¸Šæ¸¸Agentçš„å†å²è®°å½•ï¼Œç»™ä¸‹æ¸¸Agentä¸€ä¸ªå…¨æ–°çš„ä»»åŠ¡æ€»ç»“ï¼ˆæ¯”å¦‚Aåšå®Œåï¼Œåªå‘Šè¯‰Bâ€œéœ€è¦ç”Ÿæˆ3ä¸ªé¢è¯•é—®é¢˜â€ï¼Œä¸ä¼ é€’Açš„è¯¦ç»†è¿‡ç¨‹ï¼‰
    
- **é€‚ç”¨åœºæ™¯**ï¼šä¸‹æ¸¸Agentä¸éœ€è¦è¯¦ç»†å†å²ï¼Œåªéœ€è¦æ˜ç¡®ä»»åŠ¡ç›®æ ‡ï¼ˆæ¯”å¦‚AgentAsToolæ—¶ï¼Œä¸»Agentåªç»™å­Agentä¼ é€’å¿…è¦å‚æ•°ï¼‰
    

### 2.3 å†³ç­–è‡ªä¸»æ€§ï¼šè°æ¥å†³å®šä¸‹ä¸€ä¸ªæ‰§è¡Œçš„Agentï¼Ÿ

å†³ç­–è‡ªä¸»æ€§å†³å®šäº†â€œåä½œæµç¨‹çš„çµæ´»æ€§â€ï¼Œåˆ†ä¸ºä¸¤ç§ï¼š

  

#### ï¼ˆ1ï¼‰é¢„è®¾å†³ç­–ï¼ˆå›ºå®šæµç¨‹ï¼‰

- **æ¦‚å¿µ**ï¼šæå‰åœ¨ä»£ç ä¸­å®šå¥½Agentçš„æ‰§è¡Œé¡ºåºï¼ˆæ¯”å¦‚Aâ†’Bâ†’Cï¼‰ï¼ŒAgentä¸èƒ½æ”¹å˜
    
- **é€‚ç”¨åœºæ™¯**ï¼šæµç¨‹å›ºå®šã€å¯é¢„æµ‹ï¼ˆæ¯”å¦‚é¢è¯•æµç¨‹ï¼šç®€å†åˆ†æâ†’é—®é¢˜ç”Ÿæˆâ†’è¯„ä¼°â†’æŠ¥å‘Šï¼‰
    
- **å¯¹åº”ç»„åˆåŸè¯­**ï¼šSequentialã€Parallelã€Loop
    

#### ï¼ˆ2ï¼‰è‡ªä¸»å†³ç­–ï¼ˆçµæ´»æµç¨‹ï¼‰

- **æ¦‚å¿µ**ï¼šä¸æå‰å®šé¡ºåºï¼Œç”±å½“å‰Agentï¼ˆé€šå¸¸åŸºäºLLMï¼‰è‡ªä¸»åˆ¤æ–­ä¸‹ä¸€ä¸ªè¯¥æ‰§è¡Œå“ªä¸ªAgent
    
- **é€‚ç”¨åœºæ™¯**ï¼šæµç¨‹çµæ´»ã€éœ€è¦åŠ¨æ€è°ƒæ•´ï¼ˆæ¯”å¦‚RouterAgentæ ¹æ®ç”¨æˆ·è¾“å…¥ï¼Œè‡ªä¸»é€‰æ‹©äº¤ç»™ç®€å†åˆ†æAgentæˆ–èŠå¤©Agentï¼‰
    
- **å¯¹åº”ç»„åˆåŸè¯­**ï¼šSubAgents
    

---

  

## 3. 5ç§åŸºç¡€ç»„åˆåŸè¯­å®æˆ˜

ç»„åˆåŸè¯­æ˜¯Einoå°è£…å¥½çš„åä½œæ¨¡æ¿ï¼Œç›´æ¥è°ƒç”¨APIå°±èƒ½å®ç°å¤šAgentåä½œï¼Œé‡ç‚¹æŒæ¡å‰3ç§ï¼ˆé¡¹ç›®ä¸­å¸¸ç”¨ï¼‰ï¼š

  

### 3.1 SequentialAgentï¼šæŒ‰é¡ºåºæ‰§è¡Œï¼ˆçº¿æ€§æµç¨‹ï¼‰

#### ï¼ˆ1ï¼‰æ¦‚å¿µ

SequentialAgentæ˜¯æœ€å¸¸ç”¨çš„ç»„åˆåŸè¯­ï¼ŒæŒ‰`SubAgents`åˆ—è¡¨çš„é¡ºåºï¼Œä¾æ¬¡æ‰§è¡Œæ¯ä¸ªAgentï¼Œå‰ä¸€ä¸ªæ‰§è¡Œå®Œå†æ‰§è¡Œä¸‹ä¸€ä¸ªï¼Œå…¨ç¨‹ä½¿ç”¨â€œä¸Šæ¸¸Agentå…¨å¯¹è¯â€ç­–ç•¥ï¼Œå…±äº«æ‰€æœ‰å†å²ä¿¡æ¯ã€‚

  

#### ï¼ˆ2ï¼‰é€‚ç”¨åœºæ™¯

- å¤šæ­¥éª¤ã€æœ‰ä¾èµ–çš„ä»»åŠ¡ï¼ˆæ¯”å¦‚â€œè§£æç®€å†â†’ç”Ÿæˆé—®é¢˜â†’è¯„ä¼°å›ç­”â†’ç”ŸæˆæŠ¥å‘Šâ€ï¼‰
    
- æµç¨‹å›ºå®šã€å¯é¢„æµ‹çš„åä½œï¼ˆæ¯”å¦‚é¢è¯•å…¨æµç¨‹ï¼‰
    

#### ï¼ˆ3ï¼‰å®Œæ•´ç¤ºä¾‹ä»£ç ï¼ˆå®ç°â€œç®€å†åˆ†æâ†’é—®é¢˜ç”Ÿæˆâ€æµç¨‹ï¼‰

```Go
package main

import (
    "context"
    "log"
    "github.com/cloudwego/eino/adk"
    "github.com/cloudwego/eino/schema"
    // å¯¼å…¥é¡¹ç›®ä¸­çš„Agentå’Œå·¥å…·
    "your-project-name/agent"
    "your-project-name/chat"
)

func main() {
    ctx := context.Background()

    // æ­¥éª¤1ï¼šåˆ›å»ºéœ€è¦æŒ‰é¡ºåºæ‰§è¡Œçš„å­Agentï¼ˆä»é¡¹ç›®ä¸­å¯¼å…¥ï¼‰
    resumeAgent := agent.NewResumAnalysisAgent() // ç®€å†åˆ†æAgent
    questionAgent := agent.NewQuestionGeneratorAgent() // é—®é¢˜ç”ŸæˆAgent

    // æ­¥éª¤2ï¼šé…ç½®SequentialAgentï¼ˆæŒ‰é¡ºåºæ‰§è¡Œï¼‰
    sequentialConfig := &adk.SequentialAgentConfig{
        Name:        "InterviewSequentialAgent", // ç»„åˆAgentåç§°ï¼ˆå”¯ä¸€ï¼‰
        Description: "é¢è¯•æµç¨‹çº¿æ€§æ‰§è¡Œï¼šç®€å†åˆ†æâ†’é—®é¢˜ç”Ÿæˆ", // åŠŸèƒ½æè¿°
        SubAgents:   []adk.Agent{resumeAgent, questionAgent}, // æ‰§è¡Œé¡ºåºï¼šå…ˆç®€å†åˆ†æï¼Œå†é—®é¢˜ç”Ÿæˆ
    }

    // æ­¥éª¤3ï¼šåˆ›å»ºSequentialAgentå®ä¾‹
    sequentialAgent, err := adk.NewSequentialAgent(ctx, sequentialConfig)
    if err != nil {
        log.Fatalf("åˆ›å»ºSequentialAgentå¤±è´¥ï¼š%v", err)
    }

    // æ­¥éª¤4ï¼šåˆ›å»ºRunnerï¼ˆAgentæ‰§è¡Œå™¨ï¼‰
    runner := adk.NewRunner(ctx, adk.RunnerConfig{
        Agent: sequentialAgent,
    })

    // æ­¥éª¤5ï¼šæ„å»ºè¾“å…¥ï¼ˆç”¨æˆ·æä¾›PDFç®€å†è·¯å¾„ï¼‰
    inputMsg := schema.UserMessage("è¯·åˆ†æè¿™ä»½ç®€å†å¹¶ç”Ÿæˆ3ä¸ªé¢è¯•é—®é¢˜ï¼ŒPDFè·¯å¾„ï¼š/Users/xxx/ç®€å†.pdf")
    iter := runner.Query(ctx, inputMsg.Content())

    // æ­¥éª¤6ï¼šè¿è¡Œå¹¶å¤„ç†ç»“æœ
    log.Println("å¼€å§‹æ‰§è¡Œçº¿æ€§åä½œæµç¨‹...")
    step := 1
    for {
        event, ok := iter.Next()
        if !ok {
            break
        }
        if event.Err != nil {
            log.Fatalf("æ­¥éª¤%dæ‰§è¡Œå¤±è´¥ï¼š%v", step, event.Err)
        }
        // è¾“å‡ºæ¯ä¸ªAgentçš„æ‰§è¡Œç»“æœ
        if event.Output != nil && event.Output.MessageOutput != nil {
            log.Printf("\n=== æ­¥éª¤%dï¼š%s ===\n", step, event.AgentName)
            log.Printf("ç»“æœï¼š%s\n", event.Output.MessageOutput.Message.Content())
            step++
        }
    }
    log.Println("çº¿æ€§åä½œæµç¨‹æ‰§è¡Œå®Œæˆï¼")
}
```

#### ï¼ˆ4ï¼‰ä»£ç è§£æ

- æ­¥éª¤1-2ï¼šåˆ›å»ºå­Agentå¹¶é…ç½®SequentialAgentï¼Œ`SubAgents`åˆ—è¡¨çš„é¡ºåºå°±æ˜¯æ‰§è¡Œé¡ºåº
    
- æ­¥éª¤3ï¼šè°ƒç”¨`adk.NewSequentialAgent`åˆ›å»ºç»„åˆAgentï¼Œæ¡†æ¶è‡ªåŠ¨å®ç°é¡ºåºæ‰§è¡Œé€»è¾‘
    
- æ­¥éª¤5-6ï¼šè¿è¡Œåï¼Œé€šè¿‡è¿­ä»£å™¨è·å–æ¯ä¸ªAgentçš„æ‰§è¡Œäº‹ä»¶ï¼ŒæŒ‰é¡ºåºè¾“å‡ºç»“æœ
    

#### ï¼ˆ5ï¼‰é¡¹ç›®ä¸­çš„å¯¹æ¥ï¼šé¢è¯•æµç¨‹çš„çº¿æ€§æ ¸å¿ƒ

çš„é¡¹ç›®ä¸­`agent/InterView_Procrss.go`çš„`NewInterviewProcessAgent`å‡½æ•°ï¼Œæ ¸å¿ƒå°±æ˜¯ç”¨SequentialAgentç»„åˆæ•´ä¸ªé¢è¯•æµç¨‹ï¼š

```Go
// é¡¹ç›®ä¸­çš„æ ¸å¿ƒä»£ç ï¼ˆç®€åŒ–ï¼‰
func NewInterviewProcessAgent() *adk.Runner {
    ctx := context.Background()

    // 1. åˆ›å»ºå­Agent
    resumeAgent := NewResumAnalysisAgent()
    questionAgent := NewQuestionGeneratorAgent()
    evalAgent := NewAnswerEvalAgent()
    reportAgent := NewInterviewReportAgent()

    // 2. åˆ›å»ºLoopAgentï¼ˆå¾ªç¯æ‰§è¡Œï¼šç”Ÿæˆé—®é¢˜â†’è¯„ä¼°å›ç­”ï¼‰
    loopAgent, _ := adk.NewLoopAgent(ctx, &adk.LoopAgentConfig{
        SubAgents:     []adk.Agent{questionAgent, evalAgent},
        MaxIterations: 10, // æœ€å¤šå¾ªç¯10æ¬¡ï¼ˆç”Ÿæˆ10ä¸ªé—®é¢˜ï¼‰
    })

    // 3. åˆ›å»ºSequentialAgentï¼ˆçº¿æ€§æ‰§è¡Œï¼šç®€å†åˆ†æâ†’å¾ªç¯é—®ç­”â†’ç”ŸæˆæŠ¥å‘Šï¼‰
    sequentialAgent, _ := adk.NewSequentialAgent(ctx, &adk.SequentialAgentConfig{
        SubAgents: []adk.Agent{resumeAgent, loopAgent, reportAgent},
    })

    // 4. åˆ›å»ºRunner
    return adk.NewRunner(ctx, adk.RunnerConfig{Agent: sequentialAgent})
}
```

**å¯¹æ¥è§£æ**ï¼š

- é¡¹ç›®ä¸­ç”¨`SequentialAgent`ç»„åˆäº†â€œç®€å†åˆ†æâ†’Loopå¾ªç¯â†’æŠ¥å‘Šç”Ÿæˆâ€ï¼Œæ˜¯â€œçº¿æ€§+å¾ªç¯â€çš„åµŒå¥—åä½œ
    
- `SubAgents`åˆ—è¡¨çš„é¡ºåºï¼š`resumeAgent`ï¼ˆç¬¬ä¸€æ­¥ï¼‰â†’`loopAgent`ï¼ˆç¬¬äºŒæ­¥ï¼Œå¾ªç¯æ‰§è¡Œï¼‰â†’`reportAgent`ï¼ˆç¬¬ä¸‰æ­¥ï¼‰
    
- è¿™å°±æ˜¯é¢è¯•æµç¨‹çš„æ ¸å¿ƒï¼šå…ˆåˆ†æç®€å†ï¼Œå†å¾ªç¯ç”Ÿæˆé—®é¢˜å¹¶è¯„ä¼°ï¼Œæœ€åç”ŸæˆæŠ¥å‘Š
    

### 3.2 ParallelAgentï¼šå¹¶å‘æ‰§è¡Œï¼ˆåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼‰

#### ï¼ˆ1ï¼‰æ¦‚å¿µ

ParallelAgentä¼šè®©`SubAgents`åˆ—è¡¨ä¸­çš„æ‰€æœ‰AgentåŒæ—¶æ‰§è¡Œï¼ˆå¹¶å‘è¿è¡Œåœ¨ä¸åŒgoroutineï¼‰ï¼ŒåŸºäºç›¸åŒçš„åˆå§‹ä¸Šä¸‹æ–‡ï¼Œç­‰å¾…æ‰€æœ‰Agentæ‰§è¡Œå®Œæˆåæ±‡æ€»ç»“æœã€‚

#### ï¼ˆ2ï¼‰é€‚ç”¨åœºæ™¯

- å¤šä¸ªæ— ä¾èµ–ã€å¯å¹¶è¡Œçš„ä»»åŠ¡ï¼ˆæ¯”å¦‚åŒæ—¶ä»æŠ€æœ¯ã€é¡¹ç›®ã€è½¯æŠ€èƒ½ä¸‰ä¸ªè§’åº¦åˆ†æç®€å†ï¼‰
    
- éœ€è¦æé«˜æ•ˆç‡ï¼Œå¤šä¸ªAgentåŒæ—¶å¤„ç†ä¸åŒç»´åº¦çš„ä»»åŠ¡
    

#### ï¼ˆ3ï¼‰å®Œæ•´ç¤ºä¾‹ä»£ç ï¼ˆå®ç°â€œå¤šç»´åº¦ç®€å†åˆ†æâ€ï¼‰

```Go
package main

import (
    "context"
    "log"
    "sync"
    "github.com/cloudwego/eino/adk"
    "github.com/cloudwego/eino/schema"
    "your-project-name/agent"
)

func main() {
    ctx := context.Background()

    // æ­¥éª¤1ï¼šåˆ›å»º3ä¸ªå¹¶å‘æ‰§è¡Œçš„å­Agentï¼ˆä¸åŒç»´åº¦åˆ†æç®€å†ï¼‰
    techAgent := agent.NewTechAnalysisAgent() // æŠ€æœ¯æŠ€èƒ½åˆ†æAgent
    projectAgent := agent.NewProjectAnalysisAgent() // é¡¹ç›®ç»éªŒåˆ†æAgent
    softAgent := agent.NewSoftSkillAnalysisAgent() // è½¯æŠ€èƒ½åˆ†æAgent

    // æ­¥éª¤2ï¼šé…ç½®ParallelAgentï¼ˆå¹¶å‘æ‰§è¡Œï¼‰
    parallelConfig := &adk.ParallelAgentConfig{
        Name:        "ResumeMultiDimensionAgent",
        Description: "å¹¶å‘æ‰§è¡Œå¤šç»´åº¦ç®€å†åˆ†æï¼šæŠ€æœ¯+é¡¹ç›®+è½¯æŠ€èƒ½",
        SubAgents:   []adk.Agent{techAgent, projectAgent, softAgent},
    }

    // æ­¥éª¤3ï¼šåˆ›å»ºParallelAgentå®ä¾‹
    parallelAgent, err := adk.NewParallelAgent(ctx, parallelConfig)
    if err != nil {
        log.Fatalf("åˆ›å»ºParallelAgentå¤±è´¥ï¼š%v", err)
    }

    // æ­¥éª¤4ï¼šåˆ›å»ºRunner
    runner := adk.NewRunner(ctx, adk.RunnerConfig{Agent: parallelAgent})

    // æ­¥éª¤5ï¼šæ„å»ºè¾“å…¥ï¼ˆç®€å†æ–‡æœ¬ï¼‰
    resumeText := "æˆ‘ç†Ÿæ‚‰Goè¯­è¨€å¹¶å‘ç¼–ç¨‹ï¼Œå‚ä¸è¿‡ç”µå•†è®¢å•ç³»ç»Ÿå¼€å‘ï¼Œæ“…é•¿å›¢é˜Ÿåä½œ..."
    inputMsg := schema.UserMessage(fmt.Sprintf("åˆ†æè¿™ä»½ç®€å†ï¼š%s", resumeText))
    iter := runner.Query(ctx, inputMsg.Content())

    // æ­¥éª¤6ï¼šæ”¶é›†å¹¶å‘ç»“æœï¼ˆç”¨mapå­˜å‚¨ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ï¼‰
    results := make(map[string]string)
    var mu sync.Mutex // å¹¶å‘å†™å…¥mapéœ€è¦é”

    log.Println("å¼€å§‹å¹¶å‘æ‰§è¡Œå¤šç»´åº¦åˆ†æ...")
    for {
        event, ok := iter.Next()
        if !ok {
            break
        }
        if event.Err != nil {
            log.Printf("æŸä¸ªAgentæ‰§è¡Œå¤±è´¥ï¼š%v", event.Err)
            continue
        }
        if event.Output != nil && event.Output.MessageOutput != nil {
            mu.Lock()
            // å­˜å‚¨æ¯ä¸ªAgentçš„ç»“æœï¼ˆkeyï¼šAgentåç§°ï¼Œvalueï¼šç»“æœå†…å®¹ï¼‰
            results[event.AgentName] = event.Output.MessageOutput.Message.Content()
            mu.Unlock()
            log.Printf("âœ… %s æ‰§è¡Œå®Œæˆ", event.AgentName)
        }
    }

    // æ­¥éª¤7ï¼šæ±‡æ€»ç»“æœ
    log.Println("\n=== å¤šç»´åº¦åˆ†æç»“æœæ±‡æ€» ===")
    for agentName, result := range results {
        log.Printf("\nã€%sã€‘\n%s", agentName, result)
    }
}
```

  

#### ï¼ˆ4ï¼‰å…³é”®ç‰¹æ€§è§£æ

- å¹¶å‘å®‰å…¨ï¼šæ¯ä¸ªAgentè¿è¡Œåœ¨ç‹¬ç«‹goroutineï¼ŒEinoå†…éƒ¨ç”¨`sync.WaitGroup`ç­‰å¾…æ‰€æœ‰Agentå®Œæˆ
    
- é”™è¯¯éš”ç¦»ï¼šå•ä¸ªAgentæ‰§è¡Œå¤±è´¥ä¸ä¼šå½±å“å…¶ä»–Agentï¼ˆæ¯”å¦‚techAgentæŠ¥é”™ï¼ŒprojectAgentä»èƒ½æ­£å¸¸æ‰§è¡Œï¼‰
    
- ç»“æœæ±‡æ€»ï¼šéœ€è¦æ‰‹åŠ¨æ”¶é›†æ¯ä¸ªAgentçš„ç»“æœï¼ˆç”¨map+é”ï¼Œé¿å…å¹¶å‘å†™å…¥å†²çªï¼‰
    

#### ï¼ˆ5ï¼‰é¡¹ç›®ä¸­çš„æ½œåœ¨åº”ç”¨

é¡¹ç›®ä¸­å¯ä»¥æ‰©å±•è¿™ä¸ªæ¨¡å¼ï¼šæ¯”å¦‚é¢è¯•ç»“æŸåï¼Œå¹¶å‘æ‰§è¡Œâ€œå›ç­”è´¨é‡è¯„ä¼°â€â€œç®€å†åŒ¹é…åº¦è¯„ä¼°â€â€œé¢è¯•æ—¶é•¿ç»Ÿè®¡â€ï¼ŒåŒæ—¶ç”Ÿæˆå¤šä¸ªç»´åº¦çš„æŠ¥å‘Šï¼Œæé«˜æ•ˆç‡ã€‚

  

### 3.3 LoopAgentï¼šå¾ªç¯æ‰§è¡Œï¼ˆé‡å¤ä»»åŠ¡ï¼‰

#### ï¼ˆ1ï¼‰æ¦‚å¿µ

LoopAgentåŸºäºSequentialAgentå®ç°ï¼Œä¼šé‡å¤æ‰§è¡Œ`SubAgents`åˆ—è¡¨ä¸­çš„Agentåºåˆ—ï¼Œç›´åˆ°è¾¾åˆ°`MaxIterations`ï¼ˆæœ€å¤§è¿­ä»£æ¬¡æ•°ï¼‰æˆ–æŸä¸ªAgentäº§ç”Ÿ`ExitAction`ï¼ˆé€€å‡ºåŠ¨ä½œï¼‰ã€‚

  

#### ï¼ˆ2ï¼‰é€‚ç”¨åœºæ™¯

- éœ€è¦é‡å¤æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆæ¯”å¦‚å¾ªç¯ç”Ÿæˆé¢è¯•é—®é¢˜â†’è¯„ä¼°å›ç­”ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§é—®é¢˜æ•°ï¼‰
    
- è¿­ä»£ä¼˜åŒ–ç±»ä»»åŠ¡ï¼ˆæ¯”å¦‚å¤šæ¬¡ä¼˜åŒ–é¢è¯•é—®é¢˜ï¼Œç›´åˆ°æ»¡è¶³è¦æ±‚ï¼‰
    

#### ï¼ˆ3ï¼‰å®Œæ•´ç¤ºä¾‹ä»£ç ï¼ˆå®ç°â€œå¾ªç¯ç”Ÿæˆ3ä¸ªé¢è¯•é—®é¢˜â€ï¼‰

```Go
package main

import (
    "context"
    "log"
    "github.com/cloudwego/eino/adk"
    "github.com/cloudwego/eino/schema"
    "your-project-name/agent"
)

func main() {
    ctx := context.Background()

    // æ­¥éª¤1ï¼šåˆ›å»ºéœ€è¦å¾ªç¯æ‰§è¡Œçš„å­Agentï¼ˆç”Ÿæˆé—®é¢˜â†’è¯„ä¼°å›ç­”ï¼‰
    questionAgent := agent.NewQuestionGeneratorAgent() // ç”Ÿæˆé¢è¯•é—®é¢˜
    evalAgent := agent.NewAnswerEvalAgent() // è¯„ä¼°ç”¨æˆ·å›ç­”ï¼ˆè¿™é‡Œæ¨¡æ‹Ÿç”¨æˆ·å·²ç»å›ç­”ï¼‰

    // æ­¥éª¤2ï¼šé…ç½®LoopAgentï¼ˆå¾ªç¯æ‰§è¡Œï¼Œæœ€å¤š3æ¬¡ï¼‰
    loopConfig := &adk.LoopAgentConfig{
        Name:          "InterviewQuestionLoopAgent",
        Description: "å¾ªç¯ç”Ÿæˆé¢è¯•é—®é¢˜å¹¶è¯„ä¼°ï¼šæœ€å¤š3æ¬¡",
        SubAgents:     []adk.Agent{questionAgent, evalAgent}, // æ¯æ¬¡å¾ªç¯æ‰§è¡Œï¼šç”Ÿæˆâ†’è¯„ä¼°
        MaxIterations: 3, // æœ€å¤§å¾ªç¯3æ¬¡ï¼ˆç”Ÿæˆ3ä¸ªé—®é¢˜ï¼‰
    }

    // æ­¥éª¤3ï¼šåˆ›å»ºLoopAgentå®ä¾‹
    loopAgent, err := adk.NewLoopAgent(ctx, loopConfig)
    if err != nil {
        log.Fatalf("åˆ›å»ºLoopAgentå¤±è´¥ï¼š%v", err)
    }

    // æ­¥éª¤4ï¼šåˆ›å»ºRunner
    runner := adk.NewRunner(ctx, adk.RunnerConfig{Agent: loopAgent})

    // æ­¥éª¤5ï¼šæ„å»ºè¾“å…¥ï¼ˆç®€å†åˆ†æç»“æœï¼‰
    resumeAnalysisResult := "è¯¥å€™é€‰äººç†Ÿæ‚‰Goè¯­è¨€ã€å¹¶å‘ç¼–ç¨‹ï¼Œæœ‰ç”µå•†é¡¹ç›®ç»éªŒ..."
    inputMsg := schema.UserMessage(fmt.Sprintf("åŸºäºè¿™ä»½ç®€å†åˆ†æç»“æœï¼Œç”Ÿæˆé¢è¯•é—®é¢˜ï¼Œæœ€å¤š3ä¸ªï¼š%s", resumeAnalysisResult))
    iter := runner.Query(ctx, inputMsg.Content())

    // æ­¥éª¤6ï¼šå¤„ç†å¾ªç¯ç»“æœ
    log.Println("å¼€å§‹å¾ªç¯ç”Ÿæˆé¢è¯•é—®é¢˜...")
    iteration := 1
    for {
        event, ok := iter.Next()
        if !ok {
            break
        }
        if event.Err != nil {
            log.Fatalf("å¾ªç¯æ‰§è¡Œå¤±è´¥ï¼š%v", event.Err)
        }
        if event.Output != nil && event.Output.MessageOutput != nil {
            log.Printf("\n=== ç¬¬%dè½®å¾ªç¯ - %s ===\n%s", iteration, event.AgentName, event.Output.MessageOutput.Message.Content())
            // æ¯æ¬¡å¾ªç¯æ‰§è¡Œå®Œä¸¤ä¸ªAgentï¼ˆç”Ÿæˆ+è¯„ä¼°ï¼‰ï¼Œè¿­ä»£æ•°+1
            if event.AgentName == "AnswerEvalAgent" {
                iteration++
            }
        }
    }
}
```

  

#### ï¼ˆ4ï¼‰å…³é”®é…ç½®è§£æ

- `MaxIterations`ï¼šæœ€å¤§å¾ªç¯æ¬¡æ•°ï¼ˆå¿…å¡«ï¼Œé¿å…æ— é™å¾ªç¯ï¼‰ï¼Œæ¯”å¦‚è®¾ä¸º3ï¼Œå°±ä¼šæ‰§è¡Œ3æ¬¡`SubAgents`åºåˆ—ï¼ˆç”Ÿæˆ3ä¸ªé—®é¢˜ï¼‰
    
- é€€å‡ºæ¡ä»¶ï¼šé™¤äº†`MaxIterations`ï¼Œè¿˜å¯ä»¥è®©Agentäº§ç”Ÿ`ExitAction`ï¼ˆ`adk.NewExitAction()`ï¼‰ï¼Œè§¦å‘æå‰é€€å‡º
    
- ä¸Šä¸‹æ–‡ç´¯ç§¯ï¼šæ¯æ¬¡å¾ªç¯çš„ç»“æœä¼šå­˜å…¥Historyï¼Œä¸‹ä¸€è½®å¾ªç¯çš„Agentèƒ½æ‹¿åˆ°ä¹‹å‰çš„æ‰€æœ‰è®°å½•ï¼ˆæ¯”å¦‚ç¬¬äºŒæ¬¡ç”Ÿæˆé—®é¢˜æ—¶ï¼Œä¼šå‚è€ƒç¬¬ä¸€æ¬¡çš„é—®é¢˜ï¼Œé¿å…é‡å¤ï¼‰
    

#### ï¼ˆ5ï¼‰é¡¹ç›®ä¸­çš„å¯¹æ¥ï¼šé¢è¯•é—®ç­”å¾ªç¯

é¡¹ç›®ä¸­`InterView_Procrss.go`çš„`loopAgent`å°±æ˜¯è¿™ä¸ªæ¨¡å¼ï¼š

```Go
// é¡¹ç›®ä¸­çš„LoopAgenté…ç½®
loopAgent, err := adk.NewLoopAgent(ctx, &adk.LoopAgentConfig{
    Name:        "InterviewProcessAgent",
    Description: "æ ¹æ®æœ€å¤§è¿­ä»£æ¬¡æ•° ç”Ÿæˆé—®é¢˜ â†’ å‘ç”¨æˆ·è·å–å›ç­” â†’ è¯„ä¼°å›ç­” ",
    SubAgents:     []adk.Agent{QuestionGeneratorAgent, AnswerEvalAgent},
    MaxIterations: 10, // æœ€å¤šç”Ÿæˆ10ä¸ªé—®é¢˜
})
```

**å¯¹æ¥è§£æ**ï¼š

- æ¯æ¬¡å¾ªç¯æ‰§è¡Œâ€œQuestionGeneratorAgentï¼ˆç”Ÿæˆé—®é¢˜ï¼‰â†’AnswerEvalAgentï¼ˆè¯„ä¼°å›ç­”ï¼‰â€
    
- `MaxIterations:10`ï¼šæœ€å¤šç”Ÿæˆ10ä¸ªé—®é¢˜ï¼Œå¾ªç¯10æ¬¡åè‡ªåŠ¨ç»“æŸ
    
- ä¸Šä¸‹æ–‡ç´¯ç§¯ï¼šæ¯æ¬¡ç”Ÿæˆçš„é—®é¢˜ã€ç”¨æˆ·çš„å›ç­”ã€è¯„ä¼°ç»“æœéƒ½ä¼šå­˜å…¥Historyï¼Œä¸‹ä¸€è½®ç”Ÿæˆçš„é—®é¢˜ä¼šæ›´æœ‰é’ˆå¯¹æ€§ï¼ˆæ¯”å¦‚åŸºäºä¹‹å‰çš„å›ç­”æ·±å…¥æé—®ï¼‰
    

### 3.4 SubAgentsï¼šè‡ªä¸»å†³ç­–åä½œï¼ˆçµæ´»æµç¨‹ï¼‰

#### ï¼ˆ1ï¼‰æ¦‚å¿µ

SubAgentsæ˜¯â€œçˆ¶Agent+å­Agentâ€çš„ç»„åˆæ¨¡å¼ï¼šçˆ¶Agentç®¡ç†å¤šä¸ªå­Agentï¼Œå­AgentåŸºäºLLMè‡ªä¸»åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»äº¤ä»»åŠ¡ç»™å…¶ä»–å­Agentï¼ˆè‡ªä¸»å†³ç­–ï¼‰ï¼Œå…¨ç¨‹ä½¿ç”¨â€œä¸Šæ¸¸Agentå…¨å¯¹è¯â€ç­–ç•¥ã€‚

  

#### ï¼ˆ2ï¼‰é€‚ç”¨åœºæ™¯

- æµç¨‹çµæ´»ã€éœ€è¦åŠ¨æ€è°ƒæ•´çš„åä½œï¼ˆæ¯”å¦‚RouterAgentæ ¹æ®ç”¨æˆ·è¾“å…¥ï¼Œè‡ªä¸»é€‰æ‹©å­Agentï¼‰
    
- å¤šä¸“å®¶Agentåä½œï¼ˆæ¯”å¦‚ä¸€ä¸ªçˆ¶Agentç®¡ç†â€œç®€å†åˆ†æä¸“å®¶â€â€œé¢è¯•é—®é¢˜ä¸“å®¶â€â€œæŠ¥å‘Šä¸“å®¶â€ï¼‰
    

#### ï¼ˆ3ï¼‰å®Œæ•´ç¤ºä¾‹ä»£ç ï¼ˆå®ç°â€œRouter+å¤šä¸“å®¶Agentâ€ï¼‰

```Go
package main

import (
    "context"
    "log"
    "github.com/cloudwego/eino/adk"
    "github.com/cloudwego/eino/schema"
    "your-project-name/agent"
)

func main() {
    ctx := context.Background()

    // æ­¥éª¤1ï¼šåˆ›å»ºå­Agentï¼ˆä¸“å®¶Agentï¼‰
    resumeAgent := agent.NewResumAnalysisAgent() // ç®€å†åˆ†æä¸“å®¶
    questionAgent := agent.NewQuestionGeneratorAgent() // é—®é¢˜ç”Ÿæˆä¸“å®¶
    reportAgent := agent.NewInterviewReportAgent() // æŠ¥å‘Šç”Ÿæˆä¸“å®¶

    // æ­¥éª¤2ï¼šåˆ›å»ºçˆ¶Agentï¼ˆRouterAgentï¼Œè‡ªä¸»å†³ç­–ï¼‰
    routerAgent := agent.NewRouterAgent()

    // æ­¥éª¤3ï¼šå°†å­Agentæ³¨å†Œåˆ°çˆ¶Agentï¼ˆSetSubAgentsï¼‰
    // çˆ¶Agentä¼šè‡ªåŠ¨è·å–å­Agentçš„åç§°å’Œæè¿°ï¼Œç”¨äºè‡ªä¸»å†³ç­–
    parentAgent, err := adk.SetSubAgents(ctx, routerAgent, []adk.Agent{resumeAgent, questionAgent, reportAgent})
    if err != nil {
        log.Fatalf("æ³¨å†Œå­Agentå¤±è´¥ï¼š%v", err)
    }

    // æ­¥éª¤4ï¼šåˆ›å»ºRunner
    runner := adk.NewRunner(ctx, adk.RunnerConfig{Agent: parentAgent})

    // æ­¥éª¤5ï¼šæ„å»ºè¾“å…¥ï¼ˆç”¨æˆ·è¯·æ±‚ï¼‰
    inputMsg := schema.UserMessage("è¯·åˆ†ææˆ‘çš„ç®€å†å¹¶ç”Ÿæˆé¢è¯•é—®é¢˜")
    iter := runner.Query(ctx, inputMsg.Content())

    // æ­¥éª¤6ï¼šå¤„ç†ç»“æœ
    log.Println("å¼€å§‹è‡ªä¸»å†³ç­–åä½œ...")
    for {
        event, ok := iter.Next()
        if !ok {
            break
        }
        if event.Err != nil {
            log.Fatalf("åä½œå¤±è´¥ï¼š%v", event.Err)
        }
        // å¤„ç†ç§»äº¤åŠ¨ä½œï¼ˆTransferï¼‰
        if event.Action != nil && event.Action.TransferToAgent != nil {
            log.Printf("\nğŸ”„ çˆ¶Agent[%s] ç§»äº¤ä»»åŠ¡ç»™ï¼š%s", event.AgentName, event.Action.TransferToAgent.DestAgentName)
        }
        // å¤„ç†è¾“å‡ºç»“æœ
        if event.Output != nil && event.Output.MessageOutput != nil {
            log.Printf("\nğŸ“¢ Agent[%s] è¾“å‡ºï¼š\n%s", event.AgentName, event.Output.MessageOutput.Message.Content())
        }
    }
}
```

  

#### ï¼ˆ4ï¼‰æ ¸å¿ƒé€»è¾‘è§£æ

- `adk.SetSubAgents`ï¼šå°†å­Agentæ³¨å†Œåˆ°çˆ¶Agentï¼Œçˆ¶Agentä¼šè‡ªåŠ¨è·å–å­Agentçš„`Name`å’Œ`Description`ï¼Œç”¨äºLLMå†³ç­–
    
- è‡ªä¸»å†³ç­–ï¼šçˆ¶Agentï¼ˆRouterAgentï¼‰çš„`Instruction`ä¼šå‘Šè¯‰LLMâ€œæ ¹æ®ç”¨æˆ·è¯·æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„å­Agentâ€ï¼ŒLLMåŸºäºå­Agentçš„æè¿°è‡ªä¸»åˆ¤æ–­
    
- ç§»äº¤è§¦å‘ï¼šçˆ¶Agenté€šè¿‡`TransferAction`ç§»äº¤ä»»åŠ¡ç»™å­Agentï¼Œå­Agentæ‰§è¡Œå®Œæˆåï¼Œæµç¨‹ç»“æŸï¼ˆå¦‚æœéœ€è¦å­Agentè¿”å›çˆ¶Agentï¼Œéœ€é…åˆ`AgentWithDeterministicTransferTo`ï¼Œä¸‹ç¯‡è®²è§£ï¼‰
    

#### ï¼ˆ5ï¼‰é¡¹ç›®ä¸­çš„å¯¹æ¥ï¼šRouterAgentçš„ä½œç”¨

çš„é¡¹ç›®ä¸­`agent/RouterAgent.go`å°±æ˜¯çˆ¶Agentï¼Œè´Ÿè´£è‡ªä¸»å†³ç­–ï¼š

```Go
// é¡¹ç›®ä¸­çš„RouterAgenté…ç½®
func NewRouterAgent() adk.Agent {
    ctx := context.Background()
    a, err := adk.NewChatModelAgent(ctx, &adk.ChatModelAgentConfig{
        Name:        "RouterAgent",
        Description: "ä»»åŠ¡åˆ†å‘å™¨ï¼Œå†³å®šå°†ç”¨æˆ·è¯·æ±‚äº¤ç»™å“ªä¸ªAgentå¤„ç†",
        Instruction: `æ˜¯æ™ºèƒ½ä»»åŠ¡åˆ†å‘å™¨ï¼Œæ ¹æ®ç”¨æˆ·è¯·æ±‚é€‰æ‹©åˆé€‚çš„Agentï¼š
1. å¦‚æœç”¨æˆ·æä¾›ç®€å†æˆ–éœ€è¦åˆ†æç®€å†ï¼Œäº¤ç»™ResumAnalysisAgentï¼›
2. å¦‚æœéœ€è¦ç”Ÿæˆé¢è¯•é—®é¢˜ï¼Œäº¤ç»™QuestionGeneratorAgentï¼›
3. å¦‚æœéœ€è¦è¯„ä¼°å›ç­”ï¼Œäº¤ç»™AnswerEvalAgentï¼›
4. å¦‚æœéœ€è¦ç”Ÿæˆé¢è¯•æŠ¥å‘Šï¼Œäº¤ç»™InterviewReportAgentã€‚`,
        Model: chat.CreatOpenAiChatModel(ctx),
    })
    return a
}
```

**å¯¹æ¥è§£æ**ï¼š

- RouterAgentçš„`Instruction`å®šä¹‰äº†è‡ªä¸»å†³ç­–è§„åˆ™ï¼ŒLLMä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥åŒ¹é…å¯¹åº”çš„å­Agent
    
- é€šè¿‡`adk.SetSubAgents`å°†å…¶ä»–Agentæ³¨å†Œä¸ºå­Agentåï¼ŒRouterAgentå°±èƒ½è‡ªä¸»é€‰æ‹©ç§»äº¤ç›®æ ‡
    
- é¡¹ç›®ä¸­ç›®å‰ç”¨Sequential+Loopå›ºå®šæµç¨‹ï¼Œè‹¥æƒ³æ›´çµæ´»ï¼Œå¯è®©RouterAgentè‡ªä¸»è§¦å‘æ•´ä¸ªé¢è¯•æµç¨‹
    

### 3.5 AgentAsToolï¼šå°†Agentè½¬ä¸ºå·¥å…·ï¼ˆå§”æ‰˜åä½œï¼‰

#### ï¼ˆ1ï¼‰æ¦‚å¿µ

AgentAsToolæ˜¯â€œToolCallåä½œæ–¹å¼â€çš„å…·ä½“å®ç°ï¼Œå°†ä¸€ä¸ªAgentè½¬ä¸ºæ™®é€šå·¥å…·ï¼Œè¢«å…¶ä»–Agentè°ƒç”¨ï¼ˆç±»ä¼¼ä¹‹å‰å­¦çš„Einoå·¥å…·ï¼‰ï¼Œå­Agentæ‰§è¡Œå®Œåï¼Œç»“æœè¿”å›ç»™ä¸»Agentï¼Œä¸»Agentç»§ç»­å¤„ç†ã€‚

  

#### ï¼ˆ2ï¼‰é€‚ç”¨åœºæ™¯

- å­Agentçš„åŠŸèƒ½æ˜¯ä¸»Agentçš„ä¸€ä¸ªæ­¥éª¤ï¼ˆæ¯”å¦‚ä¸»Agentéœ€è¦â€œç®€å†åˆ†æâ€åŠŸèƒ½ï¼Œå°±æŠŠç®€å†åˆ†æAgentè½¬ä¸ºå·¥å…·ï¼‰
    
- å­Agentä¸éœ€è¦å®Œæ•´å†å²ï¼Œåªéœ€è¦ä¸»Agentä¼ é€’çš„å‚æ•°ï¼ˆæ¯”å¦‚ä¸»Agentåªç»™å­Agentä¼ é€’ç®€å†æ–‡æœ¬ï¼‰
    

#### ï¼ˆ3ï¼‰å®Œæ•´ç¤ºä¾‹ä»£ç ï¼ˆä¸»Agentè°ƒç”¨ç®€å†åˆ†æAgentå½“å·¥å…·ï¼‰

```Go
package main

import (
    "context"
    "log"
    "github.com/cloudwego/eino/adk"
    "github.com/cloudwego/eino/components/tool"
    "github.com/cloudwego/eino/compose"
    "github.com/cloudwego/eino/schema"
    "your-project-name/agent"
    "your-project-name/chat"
)

func main() {
    ctx := context.Background()

    // æ­¥éª¤1ï¼šåˆ›å»ºå­Agentï¼ˆç®€å†åˆ†æAgentï¼‰
    resumeAgent := agent.NewResumAnalysisAgent()

    // æ­¥éª¤2ï¼šå°†å­Agentè½¬ä¸ºå·¥å…·ï¼ˆAgentAsToolï¼‰
    resumeTool, err := adk.NewAgentTool(ctx, resumeAgent)
    if err != nil {
        log.Fatalf("Agentè½¬ä¸ºå·¥å…·å¤±è´¥ï¼š%v", err)
    }

    // æ­¥éª¤3ï¼šåˆ›å»ºä¸»Agentï¼ˆè°ƒç”¨ç®€å†åˆ†æå·¥å…·ï¼‰
    mainAgent, err := adk.NewChatModelAgent(ctx, &adk.ChatModelAgentConfig{
        Name:        "MainInterviewAgent",
        Description: "é¢è¯•ä¸»Agentï¼Œè°ƒç”¨ç®€å†åˆ†æå·¥å…·åç”Ÿæˆé¢è¯•æ–¹æ¡ˆ",
        Instruction: `æ˜¯é¢è¯•ä¸»è€ƒå®˜ï¼Œæµç¨‹å¦‚ä¸‹ï¼š
1. è°ƒç”¨"ResumAnalysisAgent"å·¥å…·ï¼Œä¼ å…¥ç”¨æˆ·æä¾›çš„ç®€å†ä¿¡æ¯ï¼›
2. æ ¹æ®å·¥å…·è¿”å›çš„åˆ†æç»“æœï¼Œç”ŸæˆåŒ…å«3ä¸ªæ ¸å¿ƒé¢è¯•é—®é¢˜å’Œè¯„ä¼°æ ‡å‡†çš„æ–¹æ¡ˆï¼›
3. è¾“å‡ºæœ€ç»ˆçš„é¢è¯•æ–¹æ¡ˆï¼Œè¯­è¨€ç®€æ´ä¸“ä¸šã€‚`,
        Model: chat.CreatOpenAiChatModel(ctx),
        // é…ç½®å·¥å…·ï¼ˆå°†è½¬ä¸ºå·¥å…·çš„AgentåŠ å…¥ï¼‰
        ToolsConfig: adk.ToolsConfig{
            ToolsNodeConfig: compose.ToolsNodeConfig{
                Tools: []tool.BaseTool{resumeTool},
            },
        },
        MaxIterations: 5,
    })
    if err != nil {
        log.Fatalf("åˆ›å»ºä¸»Agentå¤±è´¥ï¼š%v", err)
    }

    // æ­¥éª¤4ï¼šåˆ›å»ºRunner
    runner := adk.NewRunner(ctx, adk.RunnerConfig{Agent: mainAgent})

    // æ­¥éª¤5ï¼šæ„å»ºè¾“å…¥ï¼ˆç”¨æˆ·æä¾›ç®€å†è·¯å¾„ï¼‰
    inputMsg := schema.UserMessage("è¯·åŸºäºæˆ‘çš„ç®€å†ç”Ÿæˆé¢è¯•æ–¹æ¡ˆï¼ŒPDFè·¯å¾„ï¼š/Users/xxx/ç®€å†.pdf")
    iter := runner.Query(ctx, inputMsg.Content())

    // æ­¥éª¤6ï¼šå¤„ç†ç»“æœ
    log.Println("ä¸»Agentå¼€å§‹æ‰§è¡Œï¼Œè°ƒç”¨ç®€å†åˆ†æå·¥å…·...")
    for {
        event, ok := iter.Next()
        if !ok {
            break
        }
        if event.Err != nil {
            log.Fatalf("æ‰§è¡Œå¤±è´¥ï¼š%v", event.Err)
        }
        // å·¥å…·è°ƒç”¨æ—¥å¿—
        if event.Output != nil && event.Output.MessageOutput != nil {
            msgOutput := event.Output.MessageOutput
            switch msgOutput.Role {
            case schema.Assistant:
                log.Printf("\nğŸ“¢ ä¸»Agentå›å¤ï¼š\n%s", msgOutput.Message.Content())
            case schema.Tool:
                log.Printf("\nğŸ› ï¸  ç®€å†åˆ†æå·¥å…·ç»“æœï¼š\n%s", msgOutput.Message.Content())
            }
        }
    }
}
```

  

#### ï¼ˆ4ï¼‰æ ¸å¿ƒé€»è¾‘è§£æ

- `adk.NewAgentTool`ï¼šå°†Agentè½¬ä¸ºå·¥å…·ï¼Œå­Agentçš„`Name`ä¼šæˆä¸ºå·¥å…·åç§°ï¼Œ`Description`ä¼šæˆä¸ºå·¥å…·æè¿°
    
- ä¸»Agentè°ƒç”¨ï¼šä¸»Agentçš„LLMä¼šæ ¹æ®`Instruction`ï¼Œè‡ªä¸»åˆ¤æ–­ä½•æ—¶è°ƒç”¨è¯¥å·¥å…·ï¼Œä¼ é€’å‚æ•°å¹¶ç­‰å¾…ç»“æœ
    
- ä¸Šä¸‹æ–‡ç­–ç•¥ï¼šAgentAsToolé»˜è®¤ä½¿ç”¨â€œå…¨æ–°ä»»åŠ¡æè¿°â€ï¼Œä¸»Agentåªä¼šä¼ é€’å¿…è¦çš„å‚æ•°ï¼ˆå¦‚ç®€å†è·¯å¾„ï¼‰ï¼Œä¸ä¼šä¼ é€’å®Œæ•´å†å²
    

---

  

## 4. ä¸Šä¸‹æ–‡ä¼ é€’æ·±åº¦è§£æï¼šå¤šAgentå¦‚ä½•å…±äº«ä¿¡æ¯ï¼Ÿ

å¤šAgentåä½œçš„æ ¸å¿ƒæ˜¯â€œä¿¡æ¯å…±äº«â€ï¼ŒEinoé€šè¿‡`History`å’Œ`SessionValues`å®ç°ï¼Œä¸¤è€…äº’è¡¥ï¼Œè¦†ç›–ä¸åŒåœºæ™¯ï¼š

  

### 4.1 Historyï¼šè‡ªåŠ¨å…±äº«çš„â€œæ‰§è¡Œæ—¥å¿—â€

#### ï¼ˆ1ï¼‰æ¦‚å¿µ

Historyæ˜¯Einoè‡ªåŠ¨ç»´æŠ¤çš„æ‰§è¡Œæ—¥å¿—ï¼Œå­˜å‚¨æ‰€æœ‰Agentçš„è¾“å…¥ã€è¾“å‡ºã€å·¥å…·è°ƒç”¨ç»“æœã€‚å½“Agenté€šè¿‡Transferæˆ–é¢„è®¾å†³ç­–åä½œæ—¶ï¼ŒHistoryä¼šè‡ªåŠ¨ä¼ é€’ç»™ä¸‹ä¸€ä¸ªAgentï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†ã€‚

  

#### ï¼ˆ2ï¼‰åº•å±‚é€»è¾‘

- ä¸Šæ¸¸Agentçš„`Assistant`æ¶ˆæ¯ï¼ˆAgentå›å¤ï¼‰ã€`Tool`æ¶ˆæ¯ï¼ˆå·¥å…·è°ƒç”¨ç»“æœï¼‰ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºä¸‹æ¸¸Agentçš„`User`æ¶ˆæ¯
    
- ä¸‹æ¸¸Agentçš„LLMä¼šæ”¶åˆ°è¿™äº›æ¶ˆæ¯ï¼Œä»è€ŒåŸºäºå‰é¢çš„ç»“æœå·¥ä½œ
    
- ç¤ºä¾‹æµç¨‹ï¼š
    
    - ç”¨æˆ·è¾“å…¥ï¼ˆUseræ¶ˆæ¯ï¼‰â†’ ç®€å†åˆ†æAgentè¾“å‡ºåˆ†æç»“æœï¼ˆAssistantæ¶ˆæ¯ï¼‰
        
    - Historyè‡ªåŠ¨å°†è¯¥Assistantæ¶ˆæ¯è½¬ä¸ºQuestionGeneratorAgentçš„Useræ¶ˆæ¯
        
    - QuestionGeneratorAgentåŸºäºè¯¥æ¶ˆæ¯ç”Ÿæˆé¢è¯•é—®é¢˜
        

#### ï¼ˆ3ï¼‰è‡ªå®šä¹‰Historyï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä¿®æ”¹Historyçš„ä¼ é€’è§„åˆ™ï¼ˆæ¯”å¦‚åªä¼ é€’éƒ¨åˆ†ä¿¡æ¯ï¼‰ï¼Œå¯ä»¥ç”¨`WithHistoryRewriter`ï¼š

```Go
// è‡ªå®šä¹‰Historyï¼šåªä¼ é€’ç®€å†åˆ†æç»“æœçš„æ ¸å¿ƒéƒ¨åˆ†
rewriter := func(ctx context.Context, entries []*adk.HistoryEntry) ([]adk.Message, error) {
    var messages []adk.Message
    for _, entry := range entries {
        // åªä¿ç•™ResumAnalysisAgentçš„è¾“å‡ºæ¶ˆæ¯
        if entry.AgentName == "ResumAnalysisAgent" && entry.Output != nil {
            content := fmt.Sprintf("ç®€å†æ ¸å¿ƒåˆ†æï¼š%s", entry.Output.MessageOutput.Message.Content())
            messages = append(messages, schema.UserMessage(content))
        }
    }
    return messages, nil
}

// ç»™Agenté…ç½®è‡ªå®šä¹‰HistoryRewriter
agentWithRewriter := adk.AgentWithOptions(ctx, questionAgent, adk.WithHistoryRewriter(rewriter))
```

  

### 4.2 SessionValuesï¼šæ‰‹åŠ¨æ§åˆ¶çš„â€œå…¨å±€å­˜å‚¨â€

#### ï¼ˆ1ï¼‰æ¦‚å¿µ

SessionValuesæ˜¯å…¨å±€ä¸´æ—¶KVå­˜å‚¨ï¼Œä¸€æ¬¡å¤šAgentè¿è¡Œä¸­ï¼Œæ‰€æœ‰Agentéƒ½èƒ½è¯»å†™ï¼Œé€‚åˆæ‰‹åŠ¨å­˜å‚¨éœ€è¦è·¨Agentå…±äº«çš„æ•°æ®ï¼ˆæ¯”å¦‚ç®€å†æ–‡æœ¬ã€é¢è¯•é—®é¢˜åˆ—è¡¨ï¼‰ã€‚

  

#### ï¼ˆ2ï¼‰æ ¸å¿ƒAPIï¼ˆç›´æ¥è°ƒç”¨ï¼‰

```Go
import "github.com/cloudwego/eino/adk"

// 1. å­˜å‚¨å•ä¸ªå€¼ï¼ˆkey-valueï¼‰
adk.AddSessionValue(ctx, "resume_text", "æˆ‘ç†Ÿæ‚‰Goè¯­è¨€å¹¶å‘ç¼–ç¨‹...")

// 2. æ‰¹é‡å­˜å‚¨å€¼ï¼ˆmapï¼‰
adk.AddSessionValues(ctx, map[string]any{
    "resume_score": 85,
    "position":     "åç«¯å¼€å‘",
})

// 3. è·å–å•ä¸ªå€¼
resumeText, ok := adk.GetSessionValue(ctx, "resume_text")
if !ok {
    log.Println("æœªæ‰¾åˆ°ç®€å†æ–‡æœ¬")
}

// 4. è·å–æ‰€æœ‰å€¼
allValues := adk.GetSessionValues(ctx)
```

  

#### ï¼ˆ3ï¼‰ç¤ºä¾‹ä»£ç ï¼šç”¨SessionValueså…±äº«ç®€å†æ–‡æœ¬

```Go
// ç®€å†åˆ†æAgentä¸­å­˜å‚¨ç®€å†æ–‡æœ¬
func (a *ResumAnalysisAgent) InvokableRun(ctx context.Context, argsJSON string) (string, error) {
    // è§£æPDFï¼Œè·å–æ–‡æœ¬
    resumeText := extractPDFText(argsJSON)
    // å­˜å‚¨åˆ°SessionValues
    adk.AddSessionValue(ctx, "resume_text", resumeText)
    return fmt.Sprintf("ç®€å†è§£æå®Œæˆï¼Œæ–‡æœ¬é•¿åº¦ï¼š%då­—", len(resumeText)), nil
}

// é—®é¢˜ç”ŸæˆAgentä¸­è¯»å–ç®€å†æ–‡æœ¬
func (a *QuestionGeneratorAgent) InvokableRun(ctx context.Context, argsJSON string) (string, error) {
    // ä»SessionValuesè·å–ç®€å†æ–‡æœ¬
    resumeText, ok := adk.GetSessionValue(ctx, "resume_text")
    if !ok {
        return "", fmt.Errorf("æœªè·å–åˆ°ç®€å†æ–‡æœ¬")
    }
    // åŸºäºç®€å†æ–‡æœ¬ç”Ÿæˆé—®é¢˜
    questions := generateQuestions(resumeText.(string))
    return fmt.Sprintf("ç”Ÿæˆé¢è¯•é—®é¢˜ï¼š%v", questions), nil
}
```

  

### 4.3 é¡¹ç›®ä¸­çš„ä¸Šä¸‹æ–‡ä¼ é€’åº”ç”¨

é¡¹ç›®ä¸­ä¸»è¦é€šè¿‡`History`å®ç°ä¿¡æ¯å…±äº«ï¼š

- ç®€å†åˆ†æAgentçš„è¾“å‡ºï¼ˆåˆ†æç»“æœï¼‰â†’ è‡ªåŠ¨å­˜å…¥History
    
- é—®é¢˜ç”ŸæˆAgentä»Historyè·å–åˆ†æç»“æœï¼Œç”Ÿæˆé—®é¢˜
    
- å›ç­”è¯„ä¼°Agentä»Historyè·å–é—®é¢˜å’Œç”¨æˆ·å›ç­”ï¼Œè¿›è¡Œè¯„ä¼°
    
- æŠ¥å‘Šç”ŸæˆAgentä»Historyè·å–æ‰€æœ‰æµç¨‹ç»“æœï¼Œç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š
    

å¦‚æœéœ€è¦ä¼˜åŒ–ï¼Œå¯ä»¥ç”¨`SessionValues`å­˜å‚¨å…³é”®æ•°æ®ï¼ˆæ¯”å¦‚ç®€å†è¯„åˆ†ã€æ ¸å¿ƒæŠ€èƒ½ï¼‰ï¼Œé¿å…Historyè¿‡äºåºå¤§ï¼š

```Go
// åœ¨ç®€å†åˆ†æAgentä¸­å­˜å‚¨å…³é”®æ•°æ®åˆ°SessionValues
adk.AddSessionValues(ctx, map[string]any{
    "resume_score": 85,
    "core_skills": []string{"Go", "å¹¶å‘ç¼–ç¨‹", "ç”µå•†é¡¹ç›®"},
})

// åœ¨æŠ¥å‘Šç”ŸæˆAgentä¸­è¯»å–
score, _ := adk.GetSessionValue(ctx, "resume_score")
skills, _ := adk.GetSessionValue(ctx, "core_skills")
```

  

---

  

## 5. æ‹†è§£é¡¹ç›®ä¸­çš„å¤šAgentåä½œ

ç°åœ¨å›åˆ°çš„é¢è¯•æ¨¡æ‹Ÿé¡¹ç›®ï¼Œé€è¡Œè§£æ`agent/InterView_Procrss.go`ï¼Œçœ‹çœ‹é¡¹ç›®æ˜¯å¦‚ä½•è¿ç”¨å‰é¢è®²çš„ç»„åˆåŸè¯­å’Œä¸Šä¸‹æ–‡ä¼ é€’çš„ï¼š

  

### 5.1 é¡¹ç›®åä½œæµç¨‹æ€»è§ˆ

é¡¹ç›®çš„æ ¸å¿ƒåä½œæµç¨‹æ˜¯ã€ŒSequential+LoopåµŒå¥—ã€ï¼Œå¯¹åº”é¢è¯•æµç¨‹ï¼š

```Plain
ç®€å†åˆ†æAgent â†’ LoopAgentï¼ˆé—®é¢˜ç”Ÿæˆâ†’å›ç­”è¯„ä¼°ï¼‰â†’ é¢è¯•æŠ¥å‘ŠAgent
```

- å¤–å±‚ï¼šSequentialAgentï¼ˆé¢„è®¾å†³ç­–ï¼Œå›ºå®šé¡ºåºï¼‰
    
- å†…å±‚ï¼šLoopAgentï¼ˆå¾ªç¯æ‰§è¡Œï¼Œæœ€å¤š10æ¬¡ï¼‰
    

### 5.2 æ ¸å¿ƒä»£ç é€è¡Œè§£æ

```Go
func NewInterviewProcessAgent() *adk.Runner {
    ctx := context.Background()

    // æ­¥éª¤1ï¼šåˆ›å»ºå„ä¸ªå­Agentï¼ˆå•Agentï¼Œä¹‹å‰å­¦çš„ChatModelAgentï¼‰
    ResumeAnalysisAgent := NewResumAnalysisAgent() // ç®€å†åˆ†æAgent
    QuestionGeneratorAgent := NewQuestionGeneratorAgent() // é—®é¢˜ç”ŸæˆAgent
    AnswerEvalAgent := NewAnswerEvalAgent() // å›ç­”è¯„ä¼°Agent
    InterviewReportAgent := NewInterviewReportAgent() // æŠ¥å‘Šç”ŸæˆAgent

    // æ­¥éª¤2ï¼šåˆ›å»ºLoopAgentï¼ˆå†…å±‚å¾ªç¯ï¼šç”Ÿæˆé—®é¢˜â†’è¯„ä¼°å›ç­”ï¼‰
    loopAgent, err := adk.NewLoopAgent(ctx, &adk.LoopAgentConfig{
        Name:        "InterviewProcessAgent",
        Description: "æ ¹æ®æœ€å¤§è¿­ä»£æ¬¡æ•° ç”Ÿæˆé—®é¢˜ â†’ å‘ç”¨æˆ·è·å–å›ç­” â†’ è¯„ä¼°å›ç­” ",
        SubAgents:     []adk.Agent{QuestionGeneratorAgent, AnswerEvalAgent}, // å¾ªç¯åºåˆ—
        MaxIterations: 10, // æœ€å¤šç”Ÿæˆ10ä¸ªé—®é¢˜
    })
    if err != nil {
        log.Fatal(err)
    }

    // æ­¥éª¤3ï¼šåˆ›å»ºSequentialAgentï¼ˆå¤–å±‚çº¿æ€§ï¼šç®€å†åˆ†æâ†’å¾ªç¯é—®ç­”â†’ç”ŸæˆæŠ¥å‘Šï¼‰
    sequentialAgent, err := adk.NewSequentialAgent(ctx, &adk.SequentialAgentConfig{
        Name:        "InterviewProcessAgent",
        Description: " æ¨¡æ‹Ÿé¢è¯•æµç¨‹: åˆ†æç®€å† -> ç”Ÿæˆé—®é¢˜ -> å‘ç”¨æˆ·è·å–å›ç­” -> è¯„ä¼°å›ç­” -> ç”Ÿæˆé¢è¯•æŠ¥å‘Š",
        SubAgents:   []adk.Agent{ResumeAnalysisAgent, loopAgent, InterviewReportAgent}, // çº¿æ€§åºåˆ—
    })
    if err != nil {
        log.Fatal(err)
    }

    // æ­¥éª¤4ï¼šåˆ›å»ºRunnerï¼ˆæ‰§è¡Œå¤šAgentåä½œï¼‰
    runner := adk.NewRunner(ctx, adk.RunnerConfig{
        Agent: sequentialAgent,
    })

    return runner
}
```

  

### 5.3 å¯¹æ¥ç†è®ºçŸ¥è¯†ç‚¹

|   |   |   |   |
|---|---|---|---|
|ä»£ç éƒ¨åˆ†|å¯¹åº”ç»„åˆåŸè¯­|å†³ç­–è‡ªä¸»æ€§|ä¸Šä¸‹æ–‡ç­–ç•¥|
|ResumeAnalysisAgent|å•Agent|-|-|
|LoopAgentï¼ˆé—®é¢˜+è¯„ä¼°ï¼‰|Loop|é¢„è®¾å†³ç­–|ä¸Šæ¸¸Agentå…¨å¯¹è¯ï¼ˆå…±äº«é—®ç­”å†å²ï¼‰|
|SequentialAgentï¼ˆæ•´ä½“ï¼‰|Sequential|é¢„è®¾å†³ç­–|ä¸Šæ¸¸Agentå…¨å¯¹è¯ï¼ˆå…±äº«æ‰€æœ‰æµç¨‹ï¼‰|

  

### 5.4 åä½œæµç¨‹ç»†èŠ‚

1. å¯åŠ¨åï¼ŒSequentialAgentå…ˆæ‰§è¡Œ`ResumeAnalysisAgent`ï¼Œè§£æç®€å†å¹¶è¾“å‡ºåˆ†æç»“æœ
    
2. ç®€å†åˆ†æå®Œæˆåï¼ŒSequentialAgentæ‰§è¡Œ`loopAgent`ï¼Œè¿›å…¥å¾ªç¯ï¼š
    
    1. ç¬¬ä¸€æ¬¡å¾ªç¯ï¼š`QuestionGeneratorAgent`ç”Ÿæˆé—®é¢˜ â†’ `AnswerEvalAgent`è¯„ä¼°ç”¨æˆ·å›ç­”
        
    2. ç¬¬äºŒæ¬¡å¾ªç¯ï¼šåŸºäºç¬¬ä¸€æ¬¡çš„é—®ç­”å†å²ï¼Œç”Ÿæˆç¬¬äºŒä¸ªé—®é¢˜ â†’ è¯„ä¼°å›ç­”
        
    3. ... å¾ªç¯10æ¬¡æˆ–ç”¨æˆ·ç»ˆæ­¢
        
3. LoopAgentæ‰§è¡Œå®Œæˆåï¼ŒSequentialAgentæ‰§è¡Œ`InterviewReportAgent`ï¼ŒåŸºäºæ‰€æœ‰å†å²ç»“æœç”ŸæˆæŠ¥å‘Š
    

---

  

## 6. å¸¸è§é—®é¢˜ä¸æ’æŸ¥

### 6.1 Agentåç§°é‡å¤å¯¼è‡´åä½œå¤±è´¥

- æŠ¥é”™ï¼š`agent name already exists`
    
- åŸå› ï¼šå¤šä¸ªAgentçš„`Name`ç›¸åŒï¼ˆEinoè¦æ±‚Agentåç§°å”¯ä¸€ï¼‰
    
- è§£å†³ï¼šç¡®ä¿æ¯ä¸ªAgentçš„`Name`ä¸åŒï¼Œæ¯”å¦‚`ResumAnalysisAgent`ã€`QuestionGeneratorAgent`
    

### 6.2 ä¸Šä¸‹æ–‡ä¼ é€’å¤±è´¥ï¼ˆä¸‹æ¸¸Agentæ‹¿ä¸åˆ°ä¸Šæ¸¸ç»“æœï¼‰

- ç°è±¡ï¼šé—®é¢˜ç”ŸæˆAgentæ‹¿ä¸åˆ°ç®€å†åˆ†æç»“æœ
    
- åŸå› 1ï¼šåä½œæ–¹å¼ç”¨äº†`Transfer`ä½†ä¸Šä¸‹æ–‡ç­–ç•¥è®¾ä¸ºâ€œå…¨æ–°ä»»åŠ¡æè¿°â€
    
- åŸå› 2ï¼šAgentæ²¡æœ‰åŠ å…¥ç»„åˆåŸè¯­çš„`SubAgents`åˆ—è¡¨
    
- è§£å†³ï¼š
    
    - ç”¨é»˜è®¤çš„â€œä¸Šæ¸¸Agentå…¨å¯¹è¯â€ç­–ç•¥ï¼ˆä¸æ‰‹åŠ¨ä¿®æ”¹ï¼‰
        
    - ç¡®ä¿Agentå·²åŠ å…¥Sequential/Loop/Parallelçš„`SubAgents`åˆ—è¡¨
        

### 6.3 LoopAgentæ— é™å¾ªç¯

- ç°è±¡ï¼šLoopAgentä¸€ç›´å¾ªç¯ï¼Œä¸åœæ­¢
    
- åŸå› ï¼š`MaxIterations`è®¾ä¸º0ï¼ˆæ— é™å¾ªç¯ï¼‰æˆ–æœªè®¾ç½®
    
- è§£å†³ï¼šæ˜ç¡®è®¾ç½®`MaxIterations`ï¼ˆæ¯”å¦‚10ï¼‰ï¼Œæˆ–åœ¨Agentä¸­ç”Ÿæˆ`ExitAction`è§¦å‘é€€å‡ºï¼š
    

```Go
// åœ¨éœ€è¦é€€å‡ºçš„Agentä¸­ç”ŸæˆExitAction
adk.SendToolGenAction(ctx, "exit", adk.NewExitAction())
```

  

### 6.4 ParallelAgentå¹¶å‘ç»“æœæ··ä¹±

- ç°è±¡ï¼šå¤šä¸ªAgentçš„ç»“æœäº’ç›¸è¦†ç›–
    
- åŸå› ï¼šå¹¶å‘å†™å…¥ç»“æœæ—¶æ²¡æœ‰åŠ é”
    
- è§£å†³ï¼šç”¨`sync.Mutex`ä¿è¯mapå†™å…¥å®‰å…¨ï¼ˆå‚è€ƒ3.2ä¸­çš„ç¤ºä¾‹ä»£ç ï¼‰
    

### 6.5 AgentAsToolè°ƒç”¨å¤±è´¥

- æŠ¥é”™ï¼š`tool not found`
    
- åŸå› ï¼šä¸»Agentçš„`ToolsConfig`ä¸­æ²¡æœ‰åŠ å…¥è½¬ä¸ºå·¥å…·çš„Agent
    
- è§£å†³ï¼šå°†`adk.NewAgentTool`ç”Ÿæˆçš„å·¥å…·åŠ å…¥`ToolsNodeConfig`